{% extends 'base.html.twig' %}

{% block title %}Admin Orders{% endblock %}

{% block body %}
<div class="card-body">
    <div class="table-responsive text-nowrap">
        <h1 class="my-4 text-center">All Orders</h1>
        <table id="ordersDataTable" class="table table-hover">
            <thead>
                <tr>
                    <th scope="col">Order ID</th>
                    <th scope="col">Customer</th>
                    <th scope="col">Email</th>
                    <th scope="col">Address</th>
                    <th scope="col">Phone</th>
                    <th scope="col">Date</th>
                    <th scope="col">Total</th>
                </tr>
            </thead>
        </table>
    </div>
</div>
{% endblock %}

{% block javascript %}
    {{ parent() }}
    <script>
        $(document).ready(function() {
            $('#ordersDataTable').DataTable({
                "processing": true,
                "serverSide": true,
                "ajax": "{{ path('orders_data') }}",
                "columns": [
                    { "data": "id" },
                    { "data": "username" },
                    { "data": "email" },
                    { "data": "adress" },
                    { "data": "phone" },
                    { "data": "date" },
                    { "data": "total" }
                ],
                "order": [[0, 'asc']],
                "autoWidth": false,
                "bDestroy": true
            });
        });
    </script>
{% endblock %}
